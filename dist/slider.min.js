!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!0;return t?(void 0===t.value||void 0===t.isRange||void 0===t.stepSize||void 0===t.min||void 0===t.max)&&(e=!1):e=!1,e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=function(t){this.observers.filter((function(e){return e!==t}))},t.prototype.notify=function(t){this.observers.forEach((function(e){e.update(t)}))},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!0;return t.forEach((function(t){void 0===t&&(e=!1)})),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t){t.subscribe(this)}return t.prototype.update=function(t){},t}();e.default=s},function(t,e,i){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(5);var o,r,n=a(i(6)),h=a(i(7)),l=a(i(16));o=jQuery,r={value:0,isRange:!1,stepSize:1,min:0,max:10,length:"100%",hasTooltip:!1,hasScale:!1,scaleValue:3,hasValueInfo:!1,isVertical:!1,isResponsive:!1,useKeyboard:!0,isScaleClickable:!1},o.fn.slider=function(t,e){if("object"==typeof t||!t)return this.data("slider")&&o.error("Slider has already been called for this element"),this.each((function(){var e=s(s({},r),t),i=new n.default(e),a=new h.default(e,this),u=new l.default(i,a,e),d=a.getElem("slider");d?o(this).data("slider",d):o(this).data("slider",!1),o(this).data("model",i),o(this).data("view",a),o(this).data("viewModel",a.getViewModel()),o(this).data("presenter",u)}));if("changeOptions"===t&&e)this.data("presenter").changeOptions(e);else{if("value"===t)return this.data("model").getValue();if("model"===t)return this.data("model");if("view"===t)return this.data("view");if("viewModel"===t)return this.data("viewModel");if("presenter"===t)return this.data("presenter")}return this}},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),a=0;for(e=0;e<i;e++)for(var o=arguments[e],r=0,n=o.length;r<n;r++,a++)s[a]=o[r];return s},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this)||this;return i.data={min:e.min,max:e.max,value:e.value,isRange:e.isRange,stepSize:e.stepSize},i.checkAndFixMinMax(),i.checkAndFixValue(),i.checkAndFixStepSize(),i}return a(e,t),e.prototype.changeOptions=function(t){void 0!==t.value&&this.setValue(t.value),void 0!==t.isRange&&this.setIsRange(t.isRange),void 0!==t.stepSize&&this.setStepSize(t.stepSize),void 0!==t.min&&this.setMin(t.min),void 0!==t.max&&this.setMax(t.max)},e.prototype.roundValue=function(t){var e=this.getStepSize().toString().includes(".")?this.getStepSize().toString().split(".").pop():null,i=e?e.length:0;return Array.isArray(t)?[Number(t[0].toFixed(i)),Number(t[1].toFixed(i))]:Number(t.toFixed(i))},e.prototype.setMin=function(t){return this.data.max===t||(this.data.min=t,this.checkAndFixMinMax(),this.checkAndFixValue(),this.checkAndFixStepSize(),this.notify({type:"UPDATE_MIN-MAX",updatedProps:{min:this.getMin(),max:this.getMax(),value:this.getValue(),stepSize:this.getStepSize()}})),this.getMin()},e.prototype.setMax=function(t){return this.data.min===t||(this.data.max=t,this.checkAndFixMinMax(),this.checkAndFixValue(),this.checkAndFixStepSize(),this.notify({type:"UPDATE_MIN-MAX",updatedProps:{min:this.getMin(),max:this.getMax(),value:this.getValue(),stepSize:this.getStepSize()}})),this.getMax()},e.prototype.setValue=function(t,e){return void 0===e&&(e=!1),this.data.value=e?this.roundValue(t):t,this.checkAndFixValue(),this.notify({type:"UPDATE_VALUE",updatedProps:{value:this.getValue()}}),this.data.value},e.prototype.setIsRange=function(t){return this.data.isRange=t,this.checkAndFixValue(),this.notify({type:"UPDATE_IS-RANGE",updatedProps:{value:this.getValue(),isRange:this.getIsRange()}}),this.data.isRange},e.prototype.setStepSize=function(t){return this.data.stepSize=t,this.checkAndFixStepSize(),this.notify({type:"UPDATE_STEP-SIZE",updatedProps:{stepSize:this.getStepSize()}}),this.data.stepSize},e.prototype.addStepsToValue=function(t,e,i){var s;return void 0===e&&(e=1),void 0===i&&(i=!1),"number"==typeof this.data.value?this.data.value+=t*this.data.stepSize:(this.data.value[e]+=t*this.data.stepSize,1===e?this.data.value[e]<this.data.value[0]&&(this.data.value[e]=this.data.value[0]):this.data.value[e]>this.data.value[1]&&(s=this.data.value,this.data.value[e]=s[1])),i&&(this.data.value=this.roundValue(this.data.value)),this.checkAndFixValue(),this.notify({type:"UPDATE_VALUE",updatedProps:{value:this.getValue()}}),this.data.value},e.prototype.checkAndFixValue=function(){return this.data.isRange?"number"==typeof this.data.value&&(this.data.value=[this.data.value,this.data.value]):Array.isArray(this.data.value)&&(this.data.value=this.data.value[0]),"number"==typeof this.data.value?this.data.value>this.data.max?this.data.value=this.data.max:this.data.value<this.data.min&&(this.data.value=this.data.min):(this.data.value[0]>this.data.value[1]&&(this.data.value=[this.data.value[1],this.data.value[0]]),this.data.value[1]>this.data.max?this.data.value[1]=this.data.max:this.data.value[1]<this.data.min&&(this.data.value[1]=this.data.min),this.data.value[0]<this.data.min?this.data.value[0]=this.data.min:this.data.value[0]>this.data.max&&(this.data.value[0]=this.data.max)),this.data.value},e.prototype.checkAndFixStepSize=function(){return this.data.stepSize<1&&(this.data.stepSize=1),this.data.stepSize>this.data.max-this.data.min&&(this.data.stepSize=this.data.max-this.data.min),this.data.stepSize},e.prototype.checkAndFixMinMax=function(){var t;return this.data.max<this.data.min&&(t=[this.data.min,this.data.max],this.data.max=t[0],this.data.min=t[1]),[this.data.min,this.data.max]},e.prototype.getValue=function(){return"number"==typeof this.data.value?this.data.value:o(this.data.value)},e.prototype.getIsRange=function(){return this.data.isRange},e.prototype.getMin=function(){return this.data.min},e.prototype.getMax=function(){return this.data.max},e.prototype.getMaxDiapason=function(){return this.data.max-this.data.min},e.prototype.getStepSize=function(){return this.data.stepSize},e}(r(i(1)).default);e.default=n},function(t,e,i){"use strict";var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(8)),n=o(i(9)),h=o(i(10)),l=o(i(11)),u=o(i(12)),d=o(i(13)),p=o(i(14)),c=o(i(3)),v=o(i(15)),f=function(t){function e(e,i){var s=this,a={sliderClass:e.sliderClass?e.sliderClass:"slider",sliderVerticalClass:e.sliderVerticalClass?e.sliderVerticalClass:"slider_vertical",barClass:e.barClass?e.barClass:"slider__bar",progressBarClass:e.progressBarClass?e.progressBarClass:"slider__progress-bar",thumbClass:e.thumbClass?e.thumbClass:"slider__thumb",activeThumbClass:e.activeThumbClass?e.activeThumbClass:"slider__thumb_active",tooltipClass:e.tooltipClass?e.tooltipClass:"slider__tooltip",tooltipValueClass:e.tooltipValueClass?e.tooltipValueClass:"slider__tooltip-value",scaleClass:e.scaleClass?e.scaleClass:"slider__scale",valueInfoClass:e.valueInfoClass?e.valueInfoClass:"slider__value-info"},o=new r.default({modelProps:void 0,classes:a,length:e.length,lengthInPx:void 0,isVertical:e.isVertical,hasTooltip:e.hasTooltip,hasValueInfo:e.hasValueInfo,hasScale:e.hasScale,scaleValue:e.scaleValue,isResponsive:e.isResponsive,useKeyboard:e.useKeyboard,isScaleClickable:e.isScaleClickable,activeThumb:void 0,clientX:0,clientY:0});return(s=t.call(this,o)||this).viewModel=o,s.presenter=void 0,s._parent=i,s.sliderContainerView=void 0,s.barView=void 0,s.scaleView=void 0,s.thumbView=void 0,s.tooltipView=void 0,s.valueInfoView=void 0,s.windowListeners=void 0,s}return a(e,t),e.prototype.getElem=function(t){var e;switch(t){case"parent":e=this._parent;break;case"slider":e=this.sliderContainerView?this.sliderContainerView.get():void 0;break;case"bar":e=this.barView?this.barView.getBar():void 0;break;case"progressBar":e=this.barView?this.barView.getProgressBar():void 0;break;case"thumb":e=this.thumbView?this.thumbView.get():void 0;break;case"tooltip":e=this.tooltipView?this.tooltipView.get():void 0;break;case"scale":e=this.scaleView?this.scaleView.get():void 0;break;case"valueInfo":e=this.valueInfoView?this.valueInfoView.get():void 0;break;default:e=void 0}return e},e.prototype.drawSlider=function(){this.sliderContainerView=new n.default(this._parent,this.viewModel);var t=this.sliderContainerView.create();this.barView=new h.default(t,this.viewModel);var e=this.barView.createBar(),i=this.viewModel.getIsVertical()?e.offsetHeight:e.offsetWidth;this.viewModel.setLengthInPx(i),this.barView.createProgressBar(),this.thumbView=new u.default(e,this.viewModel,this);var s=this.thumbView.create();s&&(this.tooltipView=new d.default(s,this.viewModel),this.viewModel.getHasTooltip()&&this.tooltipView.create()),this.scaleView=new l.default(e,this.viewModel,this),this.viewModel.getHasScale()&&this.scaleView.create(),this.valueInfoView=new p.default(t,this.viewModel),this.viewModel.getHasValueInfo()&&this.valueInfoView.create(),this.windowListeners=new v.default(this.viewModel,{thumb:this.thumbView,bar:this.barView,scale:this.scaleView}),this.viewModel.getUseKeyboard()&&this.windowListeners.addKeyboardListener(),this.windowListeners.setIsResponsive(this.viewModel.getIsResponsive())},e.prototype.updateModelPropsInSlider=function(t){switch(t.type){case"UPDATE_VALUE":t.updatedProps&&this.setModelProps({value:t.updatedProps.value}),this.thumbView&&this.thumbView.update(),this.valueInfoView&&this.valueInfoView.update(),this.barView&&this.barView.updateProgressBar(),this.tooltipView&&this.tooltipView.update();break;case"UPDATE_IS-RANGE":if(t.updatedProps&&this.setModelProps({value:t.updatedProps.value,isRange:t.updatedProps.isRange}),this.thumbView){this.thumbView.remove();var e=this.thumbView.create();e&&(this.tooltipView&&this.tooltipView.remove(),this.tooltipView=new d.default(e,this.viewModel),this.viewModel.getHasTooltip()&&this.tooltipView.create())}this.barView&&this.barView.updateProgressBar(),this.valueInfoView&&this.valueInfoView.update();break;case"UPDATE_MIN-MAX":t.updatedProps&&this.setModelProps({value:t.updatedProps.value,min:t.updatedProps.min,max:t.updatedProps.max,stepSize:t.updatedProps.stepSize}),this.thumbView&&this.thumbView.update(),this.scaleView&&this.viewModel.getHasScale()&&(this.scaleView.remove(),this.scaleView.create()),this.valueInfoView&&this.valueInfoView.update(),this.barView&&this.barView.updateProgressBar(),this.tooltipView&&this.tooltipView.update();break;case"UPDATE_STEP-SIZE":t.updatedProps&&this.setModelProps({stepSize:t.updatedProps.stepSize})}},e.prototype.setPresenter=function(t){this.presenter=t},e.prototype.changeOptions=function(t){void 0!==t.length&&this.viewModel.setLength(t.length),void 0!==t.hasTooltip&&this.viewModel.setHasTooltip(t.hasTooltip),void 0!==t.hasScale&&this.viewModel.setHasScale(t.hasScale),void 0!==t.scaleValue&&this.viewModel.setScaleValue(t.scaleValue),void 0!==t.hasValueInfo&&this.viewModel.setHasValueInfo(t.hasValueInfo),void 0!==t.isVertical&&this.viewModel.setIsVertical(t.isVertical),void 0!==t.isResponsive&&this.viewModel.setIsResponsive(t.isResponsive),void 0!==t.useKeyboard&&this.viewModel.setUseKeyboard(t.useKeyboard),void 0!==t.isScaleClickable&&this.viewModel.getIsScaleClickable()!==t.isScaleClickable&&this.viewModel.setIsScaleClickable(t.isScaleClickable)},e.prototype.update=function(t){switch(t.type){case"UPDATE_LENGTH":this.barView&&this.barView.updateBar(),this.barView&&this.viewModel.setLengthInPx(this.barView.getOffsetLength()||0),this.barView&&this.barView.updateProgressBar(),this.thumbView&&this.thumbView.update(),this.scaleView&&this.scaleView.update();break;case"UPDATE_IS-VERTICAL":this.sliderContainerView&&this.sliderContainerView.updateVertical(),this.barView&&this.barView.updateBar(),this.barView&&this.barView.updateProgressBar(),this.thumbView&&this.thumbView.update(),this.scaleView&&this.scaleView.updateVertical();break;case"UPDATE_IS-RESPONSIVE":this.windowListeners&&this.windowListeners.setIsResponsive(this.viewModel.getIsResponsive());break;case"UPDATE_HAS-TOOLTIP":this.tooltipView&&(this.viewModel.getHasTooltip()?(this.tooltipView.remove(),this.tooltipView.create()):this.tooltipView.remove());break;case"UPDATE_HAS-SCALE":this.scaleView&&(this.scaleView.remove(),this.viewModel.getHasScale()&&this.scaleView.create());break;case"UPDATE_SCALE-VALUE":this.scaleView&&this.viewModel.getHasScale()&&(this.scaleView.remove(),this.scaleView.create());break;case"UPDATE_HAS-VALUE-INFO":this.valueInfoView&&(this.viewModel.getHasValueInfo()?(this.valueInfoView.remove(),this.valueInfoView.create()):this.valueInfoView.remove());break;case"UPDATE_USE-KEYBOARD":this.windowListeners&&(this.windowListeners.removeKeyboardListener(),this.viewModel.getUseKeyboard()&&this.windowListeners.addKeyboardListener());break;case"UPDATE_IS-SCALE-CLICKABLE":this.viewModel.getHasScale()&&this.scaleView&&(this.viewModel.getIsScaleClickable()?this.scaleView.addInteractivity():this.scaleView.removeInteractivity())}},e.prototype.setActiveThumb=function(t){if(void 0===t&&(t=1),this.thumbView){var e=this.thumbView.get();e&&(Array.isArray(e)?this.viewModel.setActiveThumb(e[t]):this.viewModel.setActiveThumb(e))}},e.prototype.setModelProps=function(t){this.viewModel.setModelProps(t)},e.prototype.moveActiveThumb=function(t){void 0===t&&(t=1),this.thumbView&&this.thumbView.moveActiveThumb(t)},e.prototype.removeActiveThumb=function(){this.viewModel.removeActiveThumb()},e.prototype.onThumbMove=function(t,e){this.presenter&&this.presenter.onThumbMove(t,e)},e.prototype.setClientCoords=function(t){this.viewModel.setClientCoords(t)},e.prototype.getViewModel=function(){return this.viewModel},e}(c.default);e.default=f},function(t,e,i){"use strict";var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),a=0;for(e=0;e<i;e++)for(var o=arguments[e],r=0,n=o.length;r<n;r++,a++)s[a]=o[r];return s},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var h=n(i(1)),l=n(i(0)),u=function(t){function e(e){var i=t.call(this)||this;return i.data=e,i}return a(e,t),e.prototype.removeActiveThumb=function(){this.data.activeThumb=void 0},e.prototype.setActiveThumb=function(t){this.data.activeThumb=t},e.prototype.setModelProps=function(t){this.data.modelProps=o(o({},this.data.modelProps),t)},e.prototype.setClientCoords=function(t){this.data.clientX=t[0],this.data.clientY=t[1]},e.prototype.setLength=function(t){this.data.length=t,this.notify({type:"UPDATE_LENGTH"})},e.prototype.setLengthInPx=function(t){this.data.lengthInPx=t},e.prototype.setIsVertical=function(t){this.data.isVertical=t,this.notify({type:"UPDATE_IS-VERTICAL"})},e.prototype.setHasScale=function(t){this.data.hasScale=t,this.notify({type:"UPDATE_HAS-SCALE"})},e.prototype.setScaleValue=function(t){this.data.scaleValue=t,this.notify({type:"UPDATE_SCALE-VALUE"})},e.prototype.setHasTooltip=function(t){this.data.hasTooltip=t,this.notify({type:"UPDATE_HAS-TOOLTIP"})},e.prototype.setHasValueInfo=function(t){this.data.hasValueInfo=t,this.notify({type:"UPDATE_HAS-VALUE-INFO"})},e.prototype.setIsResponsive=function(t){this.data.isResponsive=t,this.notify({type:"UPDATE_IS-RESPONSIVE"})},e.prototype.setUseKeyboard=function(t){this.data.useKeyboard=t,this.notify({type:"UPDATE_USE-KEYBOARD"})},e.prototype.setIsScaleClickable=function(t){this.data.isScaleClickable=t,this.notify({type:"UPDATE_IS-SCALE-CLICKABLE"})},e.prototype.getClientCoords=function(){return[this.data.clientX,this.data.clientY]},e.prototype.getModelProps=function(){return o({},this.data.modelProps)},e.prototype.getActiveThumb=function(){return this.data.activeThumb},e.prototype.getClasses=function(){return o({},this.data.classes)},e.prototype.getLength=function(){return this.data.length},e.prototype.getLengthInPx=function(){return this.data.lengthInPx},e.prototype.getIsVertical=function(){return this.data.isVertical},e.prototype.getHasTooltip=function(){return this.data.hasTooltip},e.prototype.getHasValueInfo=function(){return this.data.hasValueInfo},e.prototype.getHasScale=function(){return this.data.hasScale},e.prototype.getScaleValue=function(){return Array.isArray(this.data.scaleValue)?r(this.data.scaleValue):this.data.scaleValue},e.prototype.getIsResponsive=function(){return this.data.isResponsive},e.prototype.getUseKeyboard=function(){return this.data.useKeyboard},e.prototype.getIsScaleClickable=function(){return this.data.isScaleClickable},e.prototype.getValuePosition=function(){var t;if(l.default(this.data.modelProps)){var e=this.data.modelProps.max-this.data.modelProps.min,i=this.data.modelProps.value;void 0!==this.data.lengthInPx&&("number"==typeof i?t=this.data.lengthInPx/e*(i-this.data.modelProps.min):Array.isArray(i)&&(t=[this.data.lengthInPx/e*(i[0]-this.data.modelProps.min),this.data.lengthInPx/e*(i[1]-this.data.modelProps.min)]))}return t},e.prototype.getStepLength=function(){var t=this.getLengthInPx();if(void 0!==t&&l.default(this.data.modelProps))return t/((this.data.modelProps.max-this.data.modelProps.min)/this.data.modelProps.stepSize)},e}(h.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.target=t,this.viewModel=e,this.slider=void 0}return t.prototype.create=function(){var t,e,i=document.createElement("div"),s=this.viewModel.getClasses(),a=s.sliderClass,o=s.sliderVerticalClass;return Array.isArray(a)?(t=i.classList).add.apply(t,a):i.classList.add(a),this.viewModel.getIsVertical()&&(Array.isArray(o)?(e=i.classList).add.apply(e,o):i.classList.add(o)),this.target.appendChild(i),this.slider=i,i},t.prototype.get=function(){return this.slider},t.prototype.updateVertical=function(){var t,e;if(this.slider){var i=this.viewModel.getClasses().sliderVerticalClass;this.viewModel.getIsVertical()?Array.isArray(i)?(t=this.slider.classList).add.apply(t,i):this.slider.classList.add(i):Array.isArray(i)?(e=this.slider.classList).remove.apply(e,i):this.slider.classList.remove(i)}},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.target=t,this.bar=void 0,this.progressBar=void 0,this.viewModel=e}return t.prototype.getBar=function(){return this.bar},t.prototype.getProgressBar=function(){return this.progressBar},t.prototype.getOffsetLength=function(){if(this.bar)return this.viewModel.getIsVertical()?this.bar.offsetHeight:this.bar.offsetWidth},t.prototype.createBar=function(){var t,e=document.createElement("div"),i=this.viewModel.getClasses().barClass;return Array.isArray(i)?(t=e.classList).add.apply(t,i):e.classList.add(i),e.style.position="relative",this.viewModel.getIsVertical()?e.style.height=this.viewModel.getLength():e.style.width=this.viewModel.getLength(),this.target.appendChild(e),this.bar=e,e},t.prototype.createProgressBar=function(){var t;if(this.bar){var e=document.createElement("div"),i=this.viewModel.getClasses().progressBarClass;return this.bar.appendChild(e),Array.isArray(i)?(t=e.classList).add.apply(t,i):e.classList.add(i),e.style.position="absolute",this.progressBar=e,this.updateProgressBar(),e}},t.prototype.updateProgressBar=function(){if(this.progressBar){var t=this.viewModel.getValuePosition();if(void 0!==t){this.progressBar.style.width="",this.progressBar.style.left="",this.progressBar.style.height="",this.progressBar.style.top="";var e="width",i="left";this.viewModel.getIsVertical()&&(e="height",i="top"),"number"==typeof t?(this.progressBar.style[e]=t+"px",this.progressBar.style[i]="0"):(this.progressBar.style[e]=t[1]-t[0]+"px",this.progressBar.style[i]=t[0]+"px")}}},t.prototype.updateBar=function(){this.bar&&(this.viewModel.getIsVertical()?(this.bar.style.height=this.viewModel.getLength(),this.bar.style.width=""):(this.bar.style.width=this.viewModel.getLength(),this.bar.style.height=""))},t}();e.default=s},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(2)),o=function(){function t(t,e,i){this.target=t,this.viewModel=e,this.mainView=i,this.scale=void 0,this.handleStepElemMouseDown=this.handleStepElemMouseDown.bind(this)}return t.prototype.create=function(){var t,e=this.viewModel.getModelProps();if(e){var i=[e.min,e.max];if(a.default(i)){var s=this.viewModel.getLengthInPx();if(s){var o=document.createElement("div");this.target.appendChild(o);var r=this.viewModel.getClasses().scaleClass;Array.isArray(r)?(t=o.classList).add.apply(t,r):o.classList.add(r),this.viewModel.getIsVertical()?o.style.height=s+"px":o.style.width=s+"px";var n=[],h=this.viewModel.getScaleValue();if(Array.isArray(h))n=h;else for(var l=i[1]-i[0],u=0;u<h;u+=1)n.push(Number((i[0]+l/(h-1)*u).toFixed(3)));for(u=0;u<n.length;u+=1){var d=document.createElement("div"),p=s/(n.length-1)*u;d.innerText=""+n[u],d.style.position="absolute",o.appendChild(d),this.viewModel.getIsVertical()?d.style.top=p-d.offsetHeight/2+"px":d.style.left=p-d.offsetWidth/2+"px"}return this.scale=o,this.viewModel.getIsScaleClickable()&&this.addInteractivity(),o}}}},t.prototype.remove=function(){this.scale&&(this.scale.remove(),this.scale=void 0)},t.prototype.update=function(){var t=this.viewModel.getLengthInPx();if(this.scale&&t)for(var e=Array.from(this.scale.children),i=0;i<e.length;i+=1){var s=t/(e.length-1)*i;this.viewModel.getIsVertical()?e[i].style.top=s-e[i].offsetHeight/2+"px":e[i].style.left=s-e[i].offsetWidth/2+"px"}},t.prototype.get=function(){return this.scale},t.prototype.addInteractivity=function(){if(this.scale){for(var t=Array.from(this.scale.children),e=0;e<t.length;e+=1)t[e].addEventListener("mousedown",this.handleStepElemMouseDown);this.mainView.changeOptions({isScaleClickable:!0})}},t.prototype.removeInteractivity=function(){if(this.scale){for(var t=Array.from(this.scale.children),e=0;e<t.length;e+=1)t[e].removeEventListener("mousedown",this.handleStepElemMouseDown);this.mainView.changeOptions({isScaleClickable:!1})}},t.prototype.updateVertical=function(){this.viewModel.getHasScale()&&(this.remove(),this.create())},t.prototype.handleStepElemMouseDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.currentTarget,i=this.viewModel.getStepLength();if(this.viewModel.getActiveThumb()||this.mainView.setActiveThumb(),i){var s=this.viewModel.getModelProps();if(s&&void 0!==s.stepSize){var a=this.viewModel.getActiveThumb();if(a){var o=void 0,r=void 0;this.viewModel.getIsVertical()?(o="top",r="offsetHeight"):(o="left",r="offsetWidth");var n=(parseFloat(e.style[o])+e[r]/2)/(i/s.stepSize),h=(parseFloat(a.style[o])+a[r]/2)/(i/s.stepSize);this.mainView.moveActiveThumb((n-h)/s.stepSize),this.mainView.removeActiveThumb()}}}},t}();e.default=o},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(2)),o=function(){function t(t,e,i){this.target=t,this.viewModel=e,this.mainView=i,this.thumb=void 0,this.handleThumbMouseDown=this.handleThumbMouseDown.bind(this),this.handleThumbMouseUp=this.handleThumbMouseUp.bind(this),this.handleThumbMouseMove=this.handleThumbMouseMove.bind(this),this.removeActiveThumb=this.removeActiveThumb.bind(this)}return t.prototype.create=function(){var t,e,i=this.viewModel.getValuePosition(),s=this.viewModel.getClasses().thumbClass;if("number"==typeof i){var a=document.createElement("div");return Array.isArray(s)?(t=a.classList).add.apply(t,s):a.classList.add(s),a.style.position="absolute",this.target.appendChild(a),this.viewModel.getIsVertical()?a.style.top=i-a.offsetHeight/2+"px":a.style.left=i-a.offsetWidth/2+"px",this.thumb=a,this.addListener(),a}if(Array.isArray(i)){for(var o=[],r=0;r<i.length;r+=1){var n=document.createElement("div");Array.isArray(s)?(e=n.classList).add.apply(e,s):n.classList.add(s),n.style.position="absolute",this.target.appendChild(n),this.viewModel.getIsVertical()?n.style.top=i[r]-n.offsetHeight/2+"px":n.style.left=i[r]-n.offsetWidth/2+"px",o.push(n)}return this.thumb=[o[0],o[1]],this.addListener(),this.thumb}},t.prototype.remove=function(){this.thumb&&(Array.isArray(this.thumb)?this.thumb.forEach((function(t){t.remove()})):this.thumb.remove()),this.thumb=void 0},t.prototype.update=function(){var t=this;if(this.thumb){var e,i,s=this.viewModel.getValuePosition();if(void 0!==s){if("number"==typeof s){if(Array.isArray(this.thumb))throw new Error("valuePosition is number, but thumb is array.");e=[s],i=[this.thumb]}else{if(!Array.isArray(this.thumb))throw new Error("valuePosition is array, but thumb is not array.");e=s,i=this.thumb}i.forEach((function(s,a){t.viewModel.getIsVertical()?(i[a].style.top=e[a]-i[a].offsetHeight/2+"px",i[a].style.left=""):(i[a].style.left=e[a]-i[a].offsetWidth/2+"px",i[a].style.top="")}))}}},t.prototype.get=function(){return this.thumb},t.prototype.setActiveThumb=function(t){var e;if(void 0===t&&(t=1),this.thumb){this.removeActiveThumb();var i=Array.isArray(this.thumb)?this.thumb[t]:this.thumb,s=this.viewModel.getClasses().activeThumbClass;if(i){if(Array.isArray(s)?(e=i.classList).add.apply(e,s):i.classList.add(s),Array.isArray(this.thumb))if(i.isEqualNode(this.thumb[0])){var a="auto"===window.getComputedStyle(this.thumb[1]).zIndex?0:Number(window.getComputedStyle(this.thumb[1]).zIndex);i.style.zIndex=String(a+1)}else{a="auto"===window.getComputedStyle(this.thumb[0]).zIndex?0:Number(window.getComputedStyle(this.thumb[0]).zIndex);i.style.zIndex=String(a+1)}this.mainView.setActiveThumb(t)}}},t.prototype.removeActiveThumb=function(){var t,e=this.viewModel.getActiveThumb(),i=this.viewModel.getClasses().activeThumbClass;e&&(Array.isArray(i)?(t=e.classList).remove.apply(t,i):e.classList.remove(i))},t.prototype.moveActiveThumb=function(t){void 0===t&&(t=1);var e=[this.viewModel.getStepLength(),this.viewModel.getLengthInPx()];if(a.default(e)){var i=e[0],s=e[1],o=this.viewModel.getActiveThumb();if(o){var r=!1;Array.isArray(this.thumb)&&this.thumb[0].isEqualNode(o)&&(r=!0);var n=void 0,h=void 0;this.viewModel.getIsVertical()?(n="offsetHeight",h="top"):(n="offsetWidth",h="left");var l=s-o[n]/2,u=-o[n]/2;Array.isArray(this.thumb)&&(r?l=parseFloat(this.thumb[1].style[h]):u=parseFloat(this.thumb[0].style[h]));var d=i*t,p=parseFloat(o.style[h])+d;o.style[h]=p<=l?p>=u?p+"px":u+"px":l+"px";var c=r?0:1;this.mainView.onThumbMove(t,c)}}},t.prototype.addListener=function(){if(Array.isArray(this.thumb))for(var t=0;t<=1;t+=1)this.thumb[t].addEventListener("mousedown",this.handleThumbMouseDown),this.thumb[t].addEventListener("touchstart",this.handleThumbMouseDown);else this.thumb&&(this.thumb.addEventListener("mousedown",this.handleThumbMouseDown),this.thumb.addEventListener("touchstart",this.handleThumbMouseDown))},t.prototype.handleThumbMouseDown=function(t){var e=this.viewModel.getActiveThumb();t.preventDefault(),t.stopPropagation();var i=t.target;if(i){e&&(e.style.zIndex="");var s=void 0;if(Array.isArray(this.thumb)&&(s=i.isEqualNode(this.thumb[0])?0:1),this.setActiveThumb(s),e){var a=e.getBoundingClientRect().left+e.offsetWidth/2,o=e.getBoundingClientRect().top+e.offsetHeight/2;this.mainView.setClientCoords([a,o])}document.addEventListener("mousemove",this.handleThumbMouseMove),document.addEventListener("touchmove",this.handleThumbMouseMove),document.addEventListener("mouseup",this.handleThumbMouseUp),document.addEventListener("touchend",this.handleThumbMouseUp),document.removeEventListener("mouseup",this.removeActiveThumb),document.removeEventListener("touchend",this.removeActiveThumb)}},t.prototype.handleThumbMouseUp=function(){document.removeEventListener("mousemove",this.handleThumbMouseMove),document.removeEventListener("touchmove",this.handleThumbMouseMove),document.removeEventListener("mouseup",this.handleThumbMouseUp),document.removeEventListener("touchend",this.handleThumbMouseUp),document.addEventListener("mouseup",this.removeActiveThumb),document.addEventListener("touchend",this.removeActiveThumb)},t.prototype.handleThumbMouseMove=function(t){var e=this.viewModel.getStepLength(),i=this.viewModel.getActiveThumb();if(e&&i){var s=void 0,a=void 0;if("clientX"in t?(s=t.clientX,a=t.clientY):(s=t.touches[0].clientX,a=t.touches[0].clientY),this.viewModel.getIsVertical()){if(Math.abs(a-this.viewModel.getClientCoords()[1])>=e){var o=Math.trunc((a-this.viewModel.getClientCoords()[1])/e);this.moveActiveThumb(o),this.mainView.setClientCoords([this.viewModel.getClientCoords()[0],i.getBoundingClientRect().top+i.offsetHeight/2])}}else if(Math.abs(s-this.viewModel.getClientCoords()[0])>=e){o=Math.trunc((s-this.viewModel.getClientCoords()[0])/e);this.moveActiveThumb(o),this.mainView.setClientCoords([i.getBoundingClientRect().left+i.offsetWidth/2,this.viewModel.getClientCoords()[1]])}}},t}();e.default=o},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(0)),o=function(){function t(t,e){this.target=t,this.viewModel=e,this.tooltip=void 0}return t.prototype.create=function(){var t,e,i=this.viewModel.getModelProps();if(a.default(i)){var s=i.value,o=this.viewModel.getClasses(),r=o.tooltipClass,n=o.tooltipValueClass;if(Array.isArray(this.target)){for(var h=[],l=0;l<this.target.length;l+=1){var u=document.createElement("div");Array.isArray(r)?(t=u.classList).add.apply(t,r):u.classList.add(r),Array.isArray(s)&&(u.innerHTML='<div class="'+n+'">'+Number(s[l].toFixed(3))+"</div>"),this.target[l].appendChild(u),h.push(u)}this.tooltip=[h[0],h[1]]}else{u=document.createElement("div");Array.isArray(r)?(e=u.classList).add.apply(e,r):u.classList.add(r),Array.isArray(s)||(u.innerHTML='<div class="'+n+'">'+Number(s.toFixed(3))+"</div>"),this.target.appendChild(u),this.tooltip=u}return this.tooltip}},t.prototype.remove=function(){if(Array.isArray(this.tooltip))for(var t=0;t<=1;t+=1)this.tooltip[t].remove();else this.tooltip&&this.tooltip.remove();this.tooltip=void 0},t.prototype.update=function(){var t=this.viewModel.getModelProps();if(a.default(t)){var e=t.value;if(this.tooltip){var i=this.viewModel.getClasses().tooltipValueClass;if(Array.isArray(this.tooltip)){if(Array.isArray(e))for(var s=0;s<=1;s+=1)this.tooltip[s].innerHTML='<div class="'+i+'">'+Number(e[s].toFixed(3))+"</div>"}else Array.isArray(e)||(this.tooltip.innerHTML='<div class="'+i+'">'+Number(e.toFixed(3))+"</div>")}}},t.prototype.get=function(){return this.tooltip},t}();e.default=o},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(0)),o=function(){function t(t,e){this.target=t,this.viewModel=e,this.valueInfo=void 0}return t.prototype.create=function(){var t,e=this.viewModel.getModelProps();if(a.default(e)){var i=document.createElement("div"),s=e.value,o=this.viewModel.getClasses().valueInfoClass;return Array.isArray(o)?(t=i.classList).add.apply(t,o):i.classList.add(o),this.target.appendChild(i),i.innerText="number"==typeof s?""+s:s[0]+" - "+s[1],this.valueInfo=i,i}},t.prototype.remove=function(){this.valueInfo&&(this.valueInfo.remove(),this.valueInfo=void 0)},t.prototype.update=function(){var t=this.viewModel.getModelProps();a.default(t)&&this.valueInfo&&("number"==typeof t.value?this.valueInfo.innerText=""+t.value:this.valueInfo.innerText=t.value[0]+" - "+t.value[1])},t.prototype.get=function(){return this.valueInfo},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.viewModel=t,this.thumbView=e.thumb,this.barView=e.bar,this.scaleView=e.scale,this.handleWindowResize=this.handleWindowResize.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}return t.prototype.addKeyboardListener=function(){document.addEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.removeKeyboardListener=function(){document.removeEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.setIsResponsive=function(t){t?(window.removeEventListener("resize",this.handleWindowResize),window.addEventListener("resize",this.handleWindowResize)):window.removeEventListener("resize",this.handleWindowResize)},t.prototype.handleDocumentKeyDown=function(t){var e="ArrowRight"===t.key||"ArrowBottom"===t.key||"d"===t.key||"s"===t.key,i="ArrowLeft"===t.key||"ArrowTop"===t.key||"a"===t.key||"w"===t.key;this.thumbView&&(e?this.thumbView.moveActiveThumb(1):i&&this.thumbView.moveActiveThumb(-1))},t.prototype.handleWindowResize=function(){if(this.barView){var t=this.barView.getBar();if(t){var e=this.viewModel.getIsVertical()?t.offsetHeight:t.offsetWidth;e!==this.viewModel.getLengthInPx()&&(this.barView.updateProgressBar(),this.thumbView&&this.thumbView.update(),this.scaleView&&this.scaleView.update(),this.viewModel.setLengthInPx(e))}}},t}();e.default=s},function(t,e,i){"use strict";var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i,s){var a=t.call(this,e)||this;return a._model=e,a._view=i,a.onChange=s.onChange,a._provideInfoToView(),a._view.drawSlider(),a}return a(e,t),e.prototype.onThumbMove=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this._model.addStepsToValue(t,e,!0)},e.prototype.update=function(t){this._view.updateModelPropsInSlider(t),this.onChange&&this.onChange()},e.prototype.changeOptions=function(t){var e={};["value","isRange","stepSize","max","min"].forEach((function(i){Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}));var i={};["length","isVertical","isResponsive","hasTooltip","hasScale","scaleValue","hasValueInfo","useKeyboard","isScaleClickable"].forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}));var s={};["onChange"].forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e])})),0!==Object.keys(e).length&&this._model.changeOptions(e),0!==Object.keys(i).length&&this._view.changeOptions(i),0!==Object.keys(s).length&&s.onChange&&(this.onChange=s.onChange)},e.prototype._provideInfoToView=function(){this._view.setModelProps({value:this._model.getValue(),min:this._model.getMin(),max:this._model.getMax(),isRange:this._model.getIsRange(),stepSize:this._model.getStepSize()}),this._view.setPresenter(this)},e}(o(i(3)).default);e.default=r}]);