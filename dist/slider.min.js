!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(1);var a,o,n=r(i(2)),h=r(i(3)),l=r(i(4));a=jQuery,o={value:0,range:!1,stepSize:1,min:0,max:10,length:"100%",tooltip:!1,stepsInfo:!1,valueInfo:!1,vertical:!1,responsive:!1,useKeyboard:!0,interactiveStepsInfo:!0},a.fn.slider=function(t,e){if("object"==typeof t||!t)return this.data("slider")&&a.error("Slider has already been called for this element"),this.each((function(){var e=s(s({},o),t),i=new n.default(e),r=new h.default(i,e,this),u=new l.default(i,r,e);a(this).data("slider",r.getSlider()),a(this).data("model",i),a(this).data("view",r),a(this).data("controller",u)}));if(void 0!==e)switch(t){case"destroy":return this.each((function(){a(this).data("slider").remove(),a(this).removeData("slider"),a(this).removeData("model"),a(this).removeData("view"),a(this).removeData("controller")}));case"value":return this.each((function(){a(this).data("model").setValue(e)}));case"range":return this.each((function(){a(this).data("model").setRange(e)}));case"stepSize":return this.each((function(){a(this).data("model").setStepSize(e)}));case"max":return this.each((function(){a(this).data("model").setMax(e)}));case"min":return this.each((function(){a(this).data("model").setMin(e)}));case"length":return this.each((function(){a(this).data("view").changeLength(e)}));case"tooltip":return this.each((function(){!0!==e||a(this).data("view").getTooltip()?!1===e&&a(this).data("view").getTooltip()&&a(this).data("view").removeTooltip():a(this).data("view").createTooltip()}));case"stepsInfo":return this.each((function(){a(this).data("view").changeStepsInfoSettings(e)}));case"valueInfo":return this.each((function(){!0!==e||a(this).data("view").getValueInfo()?!1===e&&a(this).data("view").getValueInfo()&&a(this).data("view").removeValueInfo():a(this).data("view").createValueInfo()}));case"vertical":return this.each((function(){a(this).data("view").changeVertical(e)}));case"responsive":return this.each((function(){a(this).data("view").changeResponsive(e)}));case"useKeyboard":return this.each((function(){!0!==e||a(this).data("controller").getUseKeyboard()?!1===e&&a(this).data("controller").getUseKeyboard()&&a(this).data("controller").removeKeyboardListener():a(this).data("controller").addKeyboardListener()}));case"interactiveStepsInfo":return this.each((function(){!0!==e||a(this).data("controller").getInteractiveStepsInfo()?!1===e&&a(this).data("controller").getInteractiveStepsInfo()&&a(this).data("controller").removeStepsInfoInteractivity():a(this).data("controller").addStepsInfoInteractivity()}));case"onChange":return this.each((function(){a(this).data("controller").onChange=e}));default:a.error(t+" option not found")}else switch(t){case"model":return this.data("model");case"view":return this.data("view");case"controller":return this.data("controller");case"value":return this.data("model").getValue();case"range":return this.data("model").getRange();case"stepSize":return this.data("model").getStepSize();case"min":return this.data("model").getMin();case"max":return this.data("model").getMax();case"vertical":return this.data("view").getVertical();case"responsive":return this.data("view").getResponsive();case"tooltip":return this.data("view").getTooltip();case"stepsInfo":return this.data("view").getStepsInfo();case"valueInfo":return this.data("view").getValueInfo();case"useKeyboard":return this.data("controller").getUseKeyboard();case"interactiveStepsInfo":return this.data("controller").getInteractiveStepsInfo();default:a.error("No "+t+" value")}return this}},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),r=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,n=a.length;o<n;o++,r++)s[r]=a[o];return s};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.observers=[],this.max=t.max,this.min=t.min,this.value=t.value,this.checkAndFixMinMax(),this.range=t.range,this.checkAndFixValue(),this.stepSize=t.stepSize,this.checkAndFixStepSize()}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=function(t){this.observers.filter((function(e){return e!==t}))},t.prototype.notify=function(t){this.observers.forEach((function(e){e.update(t)}))},t.prototype.setMin=function(t){return this.max===t||(this.min=t,this.checkAndFixMinMax(),this.checkAndFixValue(),this.checkAndFixStepSize(),this.notify({type:"UPDATE_MIN"})),this.getMin()},t.prototype.setMax=function(t){return this.min===t||(this.max=t,this.checkAndFixMinMax(),this.checkAndFixValue(),this.checkAndFixStepSize(),this.notify({type:"UPDATE_MAX"})),this.getMax()},t.prototype.setValue=function(t){return this.value=t,this.checkAndFixValue(),this.notify({type:"UPDATE_VALUE"}),this.value},t.prototype.setRange=function(t){return this.range=t,this.checkAndFixValue(),this.notify({type:"UPDATE_RANGE"}),this.range},t.prototype.setStepSize=function(t){return this.stepSize=t,this.checkAndFixStepSize(),this.stepSize},t.prototype.addStepsToValue=function(t,e){var i;return void 0===e&&(e=1),"number"==typeof this.value?this.value+=t*this.stepSize:(this.value[e]+=t*this.stepSize,1===e?this.value[e]<this.value[0]&&(this.value[e]=this.value[0]):this.value[e]>this.value[1]&&(i=this.value,this.value[e]=i[1])),this.checkAndFixValue(),this.notify({type:"UPDATE_VALUE"}),this.value},t.prototype.checkAndFixValue=function(){return this.range?"number"==typeof this.value&&(this.value=[this.value,this.value]):Array.isArray(this.value)&&(this.value=this.value[0]),"number"!=typeof this.value&&this.value[0]>this.value[1]&&(this.value=[this.value[1],this.value[0]]),"number"==typeof this.value?this.value>this.max?this.value=this.max:this.value<this.min&&(this.value=this.min):(this.value[1]>this.max?this.value[1]=this.max:this.value[1]<this.min&&(this.value[1]=this.min),this.value[0]<this.min?this.value[0]=this.min:this.value[0]>this.max&&(this.value[0]=this.max)),this.value},t.prototype.checkAndFixStepSize=function(){return this.stepSize<0&&(this.stepSize=1),this.stepSize>this.max-this.min&&(this.stepSize=this.max-this.min),this.stepSize},t.prototype.checkAndFixMinMax=function(){var t;return this.max<this.min&&(t=[this.min,this.max],this.max=t[0],this.min=t[1]),[this.min,this.max]},t.prototype.getValue=function(){return"number"==typeof this.value?this.value:s(this.value)},t.prototype.getRange=function(){return this.range},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.getMaxDiapason=function(){return this.max-this.min},t.prototype.getStepSize=function(){return this.stepSize},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e,i){this.sliderClass=e.sliderClass?e.sliderClass:"slider",this.sliderVerticalClass=e.sliderVerticalClass?e.sliderVerticalClass:"slider_vertical",this.barClass=e.barClass?e.barClass:"slider__bar",this.progressBarClass=e.progressBarClass?e.progressBarClass:"slider__progress-bar",this.thumbClass=e.thumbClass?e.thumbClass:"slider__thumb",this.activeThumbClass=e.activeThumbClass?e.activeThumbClass:"slider__thumb_active",this.tooltipClass=e.tooltipClass?e.tooltipClass:"slider__tooltip",this.stepsInfoClass=e.stepsInfoClass?e.stepsInfoClass:"slider__steps-info",this.valueInfoClass=e.valueInfoClass?e.valueInfoClass:"slider__value-info",this._model=t,this._length=e.length,this._responsive=e.responsive,this._vertical=e.vertical,this._stepsInfoSettings=e.stepsInfo,this._parent=i,this._slider=this.createSlider(),this._bar=this.createBar(),this._progressBar=this.createProgressBar(),this._thumb=this.createThumb(),this._tooltip=e.tooltip?this.createTooltip():void 0,this._stepsInfo=e.stepsInfo?this.createStepsInfo():void 0,this._valueInfo=e.valueInfo?this.createValueInfo():void 0,this.onWindowResize=this.onWindowResize.bind(this),this._lastLength=this.getLength(),this._responsive&&window.addEventListener("resize",this.onWindowResize)}return t.prototype.getResponsive=function(){return this._responsive},t.prototype.changeResponsive=function(t){return this._responsive!==t&&(t?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this._responsive=t),this.getResponsive()},t.prototype.onWindowResize=function(){this.getLength()!==this._lastLength&&(this.updateProgressBar(),this.updateThumb(),this.updateStepsInfo(),this._lastLength=this.getLength())},t.prototype.getModel=function(){return this._model},t.prototype.getSlider=function(){return this._slider},t.prototype.getParent=function(){return this._parent},t.prototype.getBar=function(){return this._bar},t.prototype.getProgressBar=function(){return this._progressBar},t.prototype.getThumb=function(){return this._thumb},t.prototype.getTooltip=function(){return this._tooltip},t.prototype.getStepsInfo=function(){return this._stepsInfo},t.prototype.getValueInfo=function(){return this._valueInfo},t.prototype.getLength=function(){return this.getVertical()?+this.getBar().offsetHeight:+this.getBar().offsetWidth},t.prototype.getVertical=function(){return this._vertical},t.prototype.getStepsInfoSettings=function(){return this._stepsInfoSettings},t.prototype.getThumbPosition=function(){var t=this.getModel().getValue();return"number"==typeof t?this.getLength()/this.getModel().getMaxDiapason()*(t-this.getModel().getMin()):[this.getLength()/this.getModel().getMaxDiapason()*(t[0]-this.getModel().getMin()),this.getLength()/this.getModel().getMaxDiapason()*(t[1]-this.getModel().getMin())]},t.prototype.changeLength=function(t){return this._length=t,this.getVertical()?this.getBar().style.height=this._length:this.getBar().style.width=this._length,this.updateThumb(),this.updateProgressBar(),this.updateStepsInfo(),this.getLength()},t.prototype.changeVertical=function(t){var e,i;this._vertical=t;var s=this.getStepsInfo();if(this._vertical){this.getBar().style.height=this._length,this.getBar().style.width="",Array.isArray(this.sliderVerticalClass)?(i=this.getSlider().classList).add.apply(i,this.sliderVerticalClass):this.getSlider().classList.add(this.sliderVerticalClass);r=this.getThumb(),a=this.getThumbPosition(),o=this.getProgressBar();if(r&&!Array.isArray(r)&&"number"==typeof a)r.style.left="",r.style.top=a-r.offsetHeight/2+"px",o.style.height=a+"px",o.style.width="",o.style.top="0",o.style.left="";else if(Array.isArray(r)&&Array.isArray(a))for(n=0;n<=1;n+=1)r[n].style.top=a[n]-r[n].offsetHeight/2+"px",r[n].style.left="",o.style.height=a[1]-a[0]+"px",o.style.width="",o.style.top=a[0]+"px",o.style.left=""}else{this.getBar().style.width=this._length,this.getBar().style.height="",Array.isArray(this.sliderVerticalClass)?(e=this.getSlider().classList).remove.apply(e,this.sliderVerticalClass):this.getSlider().classList.remove(this.sliderVerticalClass);var r=this.getThumb(),a=this.getThumbPosition(),o=this.getProgressBar();if(r&&!Array.isArray(r)&&"number"==typeof a)r.style.top="",r.style.left=a-r.offsetHeight/2+"px",o.style.width=a+"px",o.style.height="",o.style.left="0",o.style.top="";else if(Array.isArray(r)&&Array.isArray(a))for(var n=0;n<=1;n+=1)r[n].style.left=a[n]-r[n].offsetHeight/2+"px",r[n].style.top="",o.style.width=a[1]-a[0]+"px",o.style.height="",o.style.left=a[0]+"px",o.style.top=""}return s&&(s.remove(),this.createStepsInfo()),this._vertical},t.prototype.createSlider=function(){var t,e,i=document.createElement("div");return Array.isArray(this.sliderClass)?(t=i.classList).add.apply(t,this.sliderClass):i.classList.add(this.sliderClass),this.getVertical()&&(Array.isArray(this.sliderVerticalClass)?(e=i.classList).add.apply(e,this.sliderVerticalClass):i.classList.add(this.sliderVerticalClass)),this._parent.appendChild(i),i},t.prototype.createBar=function(){var t,e=document.createElement("div");return Array.isArray(this.barClass)?(t=e.classList).add.apply(t,this.barClass):e.classList.add(this.barClass),e.style.position="relative",this._vertical?e.style.height=this._length:e.style.width=this._length,this.getSlider().appendChild(e),e},t.prototype.createProgressBar=function(){var t,e=document.createElement("div");return this.getBar().appendChild(e),Array.isArray(this.progressBarClass)?(t=e.classList).add.apply(t,this.progressBarClass):e.classList.add(this.progressBarClass),e.style.position="absolute",this._progressBar=e,this.updateProgressBar(),e},t.prototype.updateProgressBar=function(){var t=this.getThumbPosition();"number"==typeof t?this.getVertical()?(this.getProgressBar().style.height=t+"px",this.getProgressBar().style.top="0"):(this.getProgressBar().style.width=t+"px",this.getProgressBar().style.left="0"):this.getVertical()?(this.getProgressBar().style.height=t[1]-t[0]+"px",this.getProgressBar().style.top=t[0]+"px"):(this.getProgressBar().style.width=t[1]-t[0]+"px",this.getProgressBar().style.left=t[0]+"px")},t.prototype.createThumb=function(){var t,e,i=this.getThumbPosition();if("number"==typeof i){var s=document.createElement("div");Array.isArray(this.thumbClass)?(t=s.classList).add.apply(t,this.thumbClass):s.classList.add(this.thumbClass),s.style.position="absolute",this.getBar().appendChild(s),this.getVertical()?s.style.top=i-s.offsetHeight/2+"px":s.style.left=i-s.offsetWidth/2+"px",this._thumb=s}else{this._thumb=[];for(var r=0;r<=1;r+=1){s=document.createElement("div");Array.isArray(this.thumbClass)?(e=s.classList).add.apply(e,this.thumbClass):s.classList.add(this.thumbClass),s.style.position="absolute",s.dataset.number=String(r),this.getBar().appendChild(s),this.getVertical()?s.style.top=i[r]-s.offsetHeight/2+"px":s.style.left=i[r]-s.offsetWidth/2+"px",this._thumb.push(s)}}return this._thumb},t.prototype.updateThumb=function(){var t=this.getThumbPosition(),e=this.getThumb();if("number"==typeof t&&!Array.isArray(e)&&e)this.getVertical()?e.style.top=t-e.offsetHeight/2+"px":e.style.left=t-e.offsetWidth/2+"px";else if(Array.isArray(t)&&Array.isArray(e))for(var i=0;i<=1;i+=1)this.getVertical()?e[i].style.top=t[i]-e[i].offsetHeight/2+"px":e[i].style.left=t[i]-e[i].offsetWidth/2+"px"},t.prototype.removeThumb=function(){var t=this.getThumb();t&&(Array.isArray(t)?t.forEach((function(t){t.remove()})):t.remove()),this._thumb=void 0},t.prototype.createTooltip=function(){var t,e,i=this.getThumb(),s=this.getModel().getValue();if(Array.isArray(i)){this._tooltip=[];for(var r=0;r<=1;r+=1){var a=document.createElement("div");Array.isArray(this.tooltipClass)?(t=a.classList).add.apply(t,this.tooltipClass):a.classList.add(this.tooltipClass),Array.isArray(s)&&(a.innerHTML="<div>"+ +s[r].toFixed(3)+"</div>"),i[r].appendChild(a),this._tooltip.push(a)}}else{a=document.createElement("div");Array.isArray(this.tooltipClass)?(e=a.classList).add.apply(e,this.tooltipClass):a.classList.add(this.tooltipClass),Array.isArray(s)||(a.innerHTML="<div>"+ +s.toFixed(3)+"</div>"),i&&i.appendChild(a),this._tooltip=a}return this._tooltip},t.prototype.updateTooltip=function(){var t=this.getTooltip(),e=this.getModel().getValue();if(t)if(Array.isArray(t)){if(Array.isArray(e))for(var i=0;i<=1;i+=1)t[i].innerHTML="<div>"+ +e[i].toFixed(3)+"</div>"}else Array.isArray(e)||(t.innerHTML="<div>"+ +e.toFixed(3)+"</div>")},t.prototype.removeTooltip=function(){var t=this.getTooltip();if(Array.isArray(t))for(var e=0;e<=1;e+=1)t[e].remove();else t&&t.remove();this._tooltip=void 0},t.prototype.createStepsInfo=function(){var t,e=document.createElement("div"),i=this.getStepsInfoSettings();this.getBar().appendChild(e),i||(this._stepsInfoSettings=!0,i=this.getStepsInfoSettings()),Array.isArray(this.stepsInfoClass)?(t=e.classList).add.apply(t,this.stepsInfoClass):e.classList.add(this.stepsInfoClass),this.getVertical()?e.style.height=this.getLength()+"px":e.style.width=this.getLength()+"px";var s=5,r=[];if("number"==typeof i||!0===i){"number"==typeof i&&(s=i);for(var a=0;a<s;a+=1)r.push(this.getModel().getMin()+ +(this.getModel().getMaxDiapason()/(s-1)*a).toFixed(3))}else Array.isArray(i)&&(s=i.length,r=i);for(a=0;a<s;a+=1){var o=document.createElement("div"),n=this.getLength()/(s-1)*a;o.innerText=""+r[a],o.style.position="absolute",e.appendChild(o),this.getVertical()?o.style.top=n-o.offsetHeight/2+"px":o.style.left=n-o.offsetWidth/2+"px"}return this._stepsInfo=e,e},t.prototype.updateStepsInfo=function(){var t=this.getStepsInfo();if(t)for(var e=Array.from(t.children),i=0;i<e.length;i+=1){var s=this.getLength()/(e.length-1)*i;this.getVertical()?e[i].style.top=s-e[i].offsetHeight/2+"px":e[i].style.left=s-e[i].offsetWidth/2+"px"}},t.prototype.removeStepsInfo=function(){var t=this.getStepsInfo();t&&(t.remove(),this._stepsInfo=void 0)},t.prototype.changeStepsInfoSettings=function(t){return this._stepsInfoSettings=t,this.removeStepsInfo(),this._stepsInfoSettings&&this.createStepsInfo(),this.getStepsInfo()},t.prototype.createValueInfo=function(){var t,e=document.createElement("div"),i=this.getModel().getValue();return Array.isArray(this.valueInfoClass)?(t=e.classList).add.apply(t,this.valueInfoClass):e.classList.add(this.valueInfoClass),this.getSlider().appendChild(e),e.innerText="number"==typeof i?""+ +i.toFixed():+i[0].toFixed()+" - "+ +i[1].toFixed(),this._valueInfo=e,e},t.prototype.updateValueInfo=function(){var t=this.getValueInfo(),e=this.getModel().getValue();t&&(t.innerText="number"==typeof e?""+ +e.toFixed():+e[0].toFixed()+" - "+ +e[1].toFixed())},t.prototype.removeValueInfo=function(){this._valueInfo&&(this._valueInfo.remove(),this._valueInfo=void 0)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e,i){this._model=t,this._view=e,this._clientX=0,this._clientY=0,this.useKeyboard=i.useKeyboard,this.interactiveStepsInfo=i.interactiveStepsInfo,this._activeThumb=void 0,this.onChange=i.onChange,this.thumbOnDown=this.thumbOnDown.bind(this),this.thumbOnUp=this.thumbOnUp.bind(this),this.thumbOnMove=this.thumbOnMove.bind(this),this.removeActiveThumb=this.removeActiveThumb.bind(this),this.onKeydown=this.onKeydown.bind(this),this.stepElemOnDown=this.stepElemOnDown.bind(this),this.addThumbListener(),this.useKeyboard&&this.addKeyboardListener(),this.interactiveStepsInfo&&this.addStepsInfoInteractivity(),this._model.subscribe(this)}return t.prototype.update=function(t){switch(t.type){case"UPDATE_VALUE":this._view.updateThumb(),this._view.updateValueInfo(),this._view.updateProgressBar(),this._view.updateTooltip();break;case"UPDATE_RANGE":this._view.removeThumb(),this._view.createThumb(),this.addThumbListener(),this._view.updateProgressBar(),this._view.updateValueInfo(),this._view.updateTooltip();break;case"UPDATE_MIN":case"UPDATE_MAX":this._view.updateThumb(),this._view.getStepsInfo()&&(this._view.removeStepsInfo(),this._view.createStepsInfo()),this.interactiveStepsInfo&&this.addStepsInfoInteractivity(),this._view.updateValueInfo(),this._view.updateProgressBar(),this._view.updateTooltip();break;default:this._view.removeThumb(),this._view.createThumb(),this.addThumbListener(),this._view.getStepsInfo()&&(this._view.removeStepsInfo(),this._view.createStepsInfo()),this.interactiveStepsInfo&&this.addStepsInfoInteractivity(),this._view.updateProgressBar(),this._view.updateValueInfo(),this._view.updateTooltip()}},t.prototype.addThumbListener=function(){var t=this._view.getThumb();if(Array.isArray(t))for(var e=0;e<=1;e+=1)t[e].addEventListener("mousedown",this.thumbOnDown),t[e].addEventListener("touchstart",this.thumbOnDown);else t&&(t.addEventListener("mousedown",this.thumbOnDown),t.addEventListener("touchstart",this.thumbOnDown))},t.prototype.removeActiveThumb=function(){var t;this._activeThumb&&(Array.isArray(this._view.activeThumbClass)?(t=this._activeThumb.classList).remove.apply(t,this._view.activeThumbClass):this._activeThumb.classList.remove(this._view.activeThumbClass),this._activeThumb=void 0)},t.prototype.setActiveThumb=function(t){var e;void 0===t&&(t=1);var i=this._view.getThumb();if(i&&(this.removeActiveThumb(),Array.isArray(i)?this._activeThumb=i[t]:this._activeThumb=i,Array.isArray(this._view.activeThumbClass)?(e=this._activeThumb.classList).add.apply(e,this._view.activeThumbClass):this._activeThumb.classList.add(this._view.activeThumbClass),Array.isArray(i)&&this._activeThumb))if(this._activeThumb.isEqualNode(i[0])){var s="auto"===window.getComputedStyle(i[1]).zIndex?0:+window.getComputedStyle(i[1]).zIndex;this._activeThumb.style.zIndex=String(s+1)}else{s="auto"===window.getComputedStyle(i[0]).zIndex?0:+window.getComputedStyle(i[0]).zIndex;this._activeThumb.style.zIndex=String(s+1)}},t.prototype.thumbOnDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.target;e&&(this._activeThumb&&(this._activeThumb.style.zIndex=""),this.setActiveThumb(e.dataset.number?+e.dataset.number:void 0),this._activeThumb&&(this._clientX=parseFloat(this._activeThumb.style.left)+this._view.getBar().getBoundingClientRect().left+this._activeThumb.offsetWidth/2,this._clientY=parseFloat(this._activeThumb.style.top)+this._view.getBar().getBoundingClientRect().top+this._activeThumb.offsetHeight/2)),document.addEventListener("mousemove",this.thumbOnMove),document.addEventListener("touchmove",this.thumbOnMove),document.addEventListener("mouseup",this.thumbOnUp),document.addEventListener("touchend",this.thumbOnUp),document.removeEventListener("mouseup",this.removeActiveThumb),document.removeEventListener("touchend",this.removeActiveThumb)},t.prototype.thumbOnUp=function(){document.removeEventListener("mousemove",this.thumbOnMove),document.removeEventListener("touchmove",this.thumbOnMove),document.removeEventListener("mouseup",this.thumbOnUp),document.removeEventListener("touchend",this.thumbOnUp),document.addEventListener("mouseup",this.removeActiveThumb),document.addEventListener("touchend",this.removeActiveThumb)},t.prototype.getUseKeyboard=function(){return this.useKeyboard},t.prototype.getInteractiveStepsInfo=function(){return this.interactiveStepsInfo},t.prototype.addStepsInfoInteractivity=function(){var t=this._view.getStepsInfo();if(t){for(var e=Array.from(t.children),i=0;i<e.length;i+=1)e[i].addEventListener("mousedown",this.stepElemOnDown);this.interactiveStepsInfo=!0}},t.prototype.removeStepsInfoInteractivity=function(){var t=this._view.getStepsInfo();if(t){for(var e=Array.from(t.children),i=0;i<e.length;i+=1)e[i].removeEventListener("mousedown",this.stepElemOnDown);this.interactiveStepsInfo=!1}},t.prototype.stepElemOnDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.currentTarget;if(this._activeThumb||this.setActiveThumb(),this._view.getVertical()){if(this._activeThumb){var i=(parseFloat(e.style.top)+e.offsetHeight/2)/(this.getStepLength()/this._model.getStepSize()),s=(parseFloat(this._activeThumb.style.top)+this._activeThumb.offsetHeight/2)/(this.getStepLength()/this._model.getStepSize());this.addStepsToActiveThumb((i-s)/this._model.getStepSize()),this.removeActiveThumb()}}else if(this._activeThumb){i=(parseFloat(e.style.left)+e.offsetWidth/2)/(this.getStepLength()/this._model.getStepSize()),s=(parseFloat(this._activeThumb.style.left)+this._activeThumb.offsetWidth/2)/(this.getStepLength()/this._model.getStepSize());this.addStepsToActiveThumb((i-s)/this._model.getStepSize()),this.removeActiveThumb()}},t.prototype.addKeyboardListener=function(){document.addEventListener("keydown",this.onKeydown),this.useKeyboard=!0},t.prototype.removeKeyboardListener=function(){document.removeEventListener("keydown",this.onKeydown),this.useKeyboard=!1},t.prototype.onKeydown=function(t){"ArrowRight"===t.key||"ArrowBottom"===t.key||"d"===t.key||"s"===t.key?this.addStepsToActiveThumb(1):"ArrowLeft"!==t.key&&"ArrowTop"!==t.key&&"a"!==t.key&&"w"!==t.key||this.addStepsToActiveThumb(-1)},t.prototype.getActiveThumb=function(){return this._activeThumb},t.prototype.getStepLength=function(){var t=(this._model.getMax()-this._model.getMin())/this._model.getStepSize();return this._view.getLength()/t},t.prototype.addStepsToActiveThumb=function(t){if(void 0===t&&(t=1),this._activeThumb){var e=this._view.getThumb(),i=!1;Array.isArray(e)&&e[0].isEqualNode(this._activeThumb)&&(i=!0);var s=void 0,r=void 0;this._view.getVertical()?(s="offsetHeight",r="top"):(s="offsetWidth",r="left");var a=this._view.getLength()-this._activeThumb[s]/2,o=-this._activeThumb[s]/2;Array.isArray(e)&&(i?a=parseFloat(e[1].style[r]):o=parseFloat(e[0].style[r]));var n=this.getStepLength()*t,h=parseFloat(this._activeThumb.style[r])+n,l=t;if(h<=a?h>=o?this._activeThumb.style[r]=h+"px":(l=(o-parseFloat(this._activeThumb.style[r]))/this.getStepLength(),this._activeThumb.style[r]=o+"px"):(l=(a-parseFloat(this._activeThumb.style[r]))/this.getStepLength(),this._activeThumb.style[r]=a+"px"),this._model.getRange()){var u=void 0;u=i?0:1,this._model.addStepsToValue(l,u)}else this._model.addStepsToValue(l);this.onChange&&this.onChange()}},t.prototype.thumbOnMove=function(t){if(this._activeThumb){var e=void 0,i=void 0;if("clientX"in t?(e=t.clientX,i=t.clientY):(e=t.touches[0].clientX,i=t.touches[0].clientY),this._view.getVertical()){if(Math.abs(i-this._clientY)>=this.getStepLength()){var s=Math.trunc((i-this._clientY)/this.getStepLength());this.addStepsToActiveThumb(s),this._clientY=parseFloat(this._activeThumb.style.top)+this._view.getBar().getBoundingClientRect().top+this._activeThumb.offsetHeight/2}}else if(Math.abs(e-this._clientX)>=this.getStepLength()){s=Math.trunc((e-this._clientX)/this.getStepLength());this.addStepsToActiveThumb(s),this._clientX=parseFloat(this._activeThumb.style.left)+this._view.getBar().getBoundingClientRect().left+this._activeThumb.offsetWidth/2}}},t}();e.default=s}]);